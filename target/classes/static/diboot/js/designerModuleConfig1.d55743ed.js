(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["designerModuleConfig1"],{"0dc0":function(t,e,n){},"13a3":function(t,e,n){"use strict";var a=n("78bd"),l=n.n(a);l.a},"32fb":function(t,e,n){},"44a5":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-form-model",{ref:"form",attrs:{layout:"horizontal",rules:t.rules,"label-col":{span:6},"wrapper-col":{span:18},model:t.moduleConfig.metadata}},[t.abstractPanel?[n("a-form-model-item",{attrs:{label:"实体选择"}},[n("a-tag",{attrs:{color:"#87d068"}},[t._v("\n        列表实体预留\n      ")])],1),n("a-form-model-item",{attrs:{label:"选中方式"}},[n("a-radio-group",{attrs:{"default-value":"NONE","button-style":"solid"},model:{value:t.moduleConfig.metadata.rowSelection,callback:function(e){t.$set(t.moduleConfig.metadata,"rowSelection",e)},expression:"moduleConfig.metadata.rowSelection"}},[n("a-radio-button",{attrs:{value:"NONE"}},[t._v("\n          无\n        ")]),n("a-radio-button",{attrs:{value:"SINGLE_SELECT"}},[t._v("\n          单选\n        ")]),n("a-radio-button",{attrs:{value:"MULTI_SELECT"}},[t._v("\n          多选\n        ")])],1)],1),n("a-form-model-item",{attrs:{label:"可搜索"}},[n("a-switch",{attrs:{"default-checked":""},model:{value:t.moduleConfig.metadata.showSearch,callback:function(e){t.$set(t.moduleConfig.metadata,"showSearch",e)},expression:"moduleConfig.metadata.showSearch"}},[n("a-icon",{attrs:{slot:"checkedChildren",type:"check"},slot:"checkedChildren"}),n("a-icon",{attrs:{slot:"unCheckedChildren",type:"close"},slot:"unCheckedChildren"})],1)],1),n("h3",{staticClass:"title separator"},[t._v("搜索字段配置")]),n("a-tag",{attrs:{color:"#87d068"}},[t._v("\n      搜索字段预留\n    ")]),n("h3",{staticClass:"title separator"},[t._v("列表字段配置")]),n("a-tag",{attrs:{color:"#87d068"}},[t._v("\n      列表字段预留\n    ")])]:[n("a-form-model-item",{attrs:{label:"实体选择",prop:"tableName"}},[t.listTables.length>0?[n("a-select",{staticStyle:{width:"100%"},attrs:{"show-search":"","filter-option":t.filterOption,"default-value":t.listTables[t.listTables.length-1]["tableName"]},on:{change:function(e){return t.listTableNameChanged(e)}},model:{value:t.moduleConfig.metadata.tableName,callback:function(e){t.$set(t.moduleConfig.metadata,"tableName",e)},expression:"moduleConfig.metadata.tableName"}},t._l(t.listTables,function(e,a){return n("a-select-option",{key:a,attrs:{value:e.tableName}},[t._v("\n            "+t._s(e.objName)+" ["+t._s(e.tableName)+"]\n          ")])}),1)]:n("span",[t._v("\n        暂无实体可选\n      ")])],2),n("a-form-model-item",{attrs:{label:"选中方式"}},[n("a-radio-group",{attrs:{"default-value":"NONE","button-style":"solid"},model:{value:t.moduleConfig.metadata.rowSelection,callback:function(e){t.$set(t.moduleConfig.metadata,"rowSelection",e)},expression:"moduleConfig.metadata.rowSelection"}},[n("a-radio-button",{attrs:{value:"NONE"}},[t._v("\n          无\n        ")]),n("a-radio-button",{attrs:{value:"SINGLE_SELECT"}},[t._v("\n          单选\n        ")]),n("a-radio-button",{attrs:{value:"MULTI_SELECT"}},[t._v("\n          多选\n        ")])],1)],1),n("a-form-model-item",{attrs:{label:"可搜索"}},[n("a-switch",{attrs:{"default-checked":""},model:{value:t.moduleConfig.metadata.showSearch,callback:function(e){t.$set(t.moduleConfig.metadata,"showSearch",e)},expression:"moduleConfig.metadata.showSearch"}},[n("a-icon",{attrs:{slot:"checkedChildren",type:"check"},slot:"checkedChildren"}),n("a-icon",{attrs:{slot:"unCheckedChildren",type:"close"},slot:"unCheckedChildren"})],1)],1),t.listColumns.length>0&&t.moduleConfig.metadata.showSearch?n("column-list-selector-plus",{ref:"searchColumnSelector",attrs:{"valid-columns-filter":t.validSearchColumnsFilter,"auto-setter-col-filter":t.autoSetterColFilter,"is-expand":!1,"init-columns":t.listColumns,"need-ref-entity":!1,title:"搜索字段配置"},on:{change:function(e){t.moduleConfig.metadata.searchColumns=t._.cloneDeep(e)}}}):t._e(),t.listColumns.length>0?n("column-list-selector-plus",{ref:"listColumnSelector",attrs:{title:"列表字段配置","is-expand":!0,"init-columns":t.listColumns,"valid-columns-filter":t.validListColumnsFilter,"auto-setter-col-filter":t.autoSetterColFilter,"col-extra-properties-setter":t.setListColExtraProperties,"expand-columns-filter":t.expandListColumnsFilter,"vo-type":"ListVO"},on:{change:function(e){t.moduleConfig.metadata.listColumns=t._.cloneDeep(e)}},scopedSlots:t._u([{key:"item-extra-content",fn:function(e){var a=e.col;return[a.fieldPackagingType&&"String"===a.fieldPackagingType?n("a-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{labelCol:{span:6},wrapperCol:{span:17},label:"缩略显示"}},[n("a-checkbox",{model:{value:a.ellipsis,callback:function(e){t.$set(a,"ellipsis",e)},expression:"col.ellipsis"}},[t._v("\n            内容超长缩略显示\n          ")])],1):t._e()]}}],null,!1,1152977923)}):t._e()],t.moduleConfig.scriptConfig&&t.hasPermission("f_pc_panel_event_kit")?[n("h3",{staticClass:"title separator"},[t._v("组件事件处理")]),n("event-kit",{attrs:{code:t.code,"script-config":t.moduleConfig.scriptConfig}})]:t._e()],2)},l=[],i=(n("ac6a"),n("7514"),n("7f57")),o=n("6cc4"),s=n("4047"),r=n("8656"),u=n("3aa3"),c=n("b023"),m=[{uuid:"",moduleName:"generalList",label:"列表参数设置",type:"dynamic_table_fields",strategy:{label:"列表实体选择",type:c["b"].entity_without_sys,target:"tableName",tableInfoTarget:"listTable",custom:!0,children:[{label:"列表搜索字段列表",type:"columns",name:"searchColumns",showStateField:"showSearch",strategy:{label:"列表搜索字段列表",type:c["a"].filter,custom:!0,target:"searchColumns"}},{label:"列表显示字段列表",type:"columns",name:"listColumns",strategy:{label:"列表显示字段列表",type:c["a"].filter,custom:!0,target:"listColumns"}}]}}],d={name:"GeneralListConfig",data:function(){return{listTables:[],treeColumns:[],listColumns:[],rules:{tableName:[{required:!0,message:"请选择列表实体",trigger:"blur"}]}}},methods:{getAbstractStrategys:function(){return m},startConfigValidate:function(t){var e=this;this.$refs.configForm.validate(function(n,a){if(n)t();else{var l=e.collectErrMsg(a);t(l)}})},listTableNameChanged:function(t,e){var n=this.listTables.find(function(e){return e.tableName===t});this.moduleConfig.metadata.listTable=n,this.getListColumns(t,e)},getListColumns:function(t,e){var n=this;this.listColumns=[],u["a"].get("/diboot/devtools/db/cols/".concat(t)).then(function(t){if(0===t.code){t.data.forEach(function(t){t.columnExt||(t.columnExt={})}),n.listColumns=t.data;var a=n.moduleConfig.metadata,l=a.searchColumns,i=a.listColumns;e&&l.length>0&&i.length>0?n.$nextTick(function(){var t=n.$refs.listColumnSelector;t&&t.setResultColumns(i);var e=n.$refs.searchColumnSelector;e&&e.setResultColumns(l)}):(n.moduleConfig.metadata.searchColumns=[],n.moduleConfig.metadata.listColumns=[])}})},validSearchColumnsFilter:function(t){return"isDeleted"!==t.fieldName&&"extdata"!==t.fieldName&&"S_FILE_UPLOAD"!==t.columnExt.formType&&"M_FILE_UPLOAD"!==t.columnExt.formType&&"S_IMG_UPLOAD"!==t.columnExt.formType&&"M_IMG_UPLOAD"!==t.columnExt.formType&&"RICH_EDITOR"!==t.columnExt.formType},validListColumnsFilter:function(t){return"isDeleted"!==t.fieldName&&"extdata"!==t.fieldName&&"S_FILE_UPLOAD"!==t.columnExt.formType&&"M_FILE_UPLOAD"!==t.columnExt.formType&&"S_IMG_UPLOAD"!==t.columnExt.formType&&"M_IMG_UPLOAD"!==t.columnExt.formType&&"RICH_EDITOR"!==t.columnExt.formType&&!t.columnExt.refType},autoSetterColFilter:function(t){return!0!==t.primaryKey&&"tenantId"!==t.fieldName},setListColExtraProperties:function(t){if("antdv"!==this.projectType)return!1;"String"===t.fieldPackagingType&&t.colLength&&t.colLength>255?t.ellipsis=!0:"String"===t.fieldPackagingType?t.ellipsis=!1:t.ellipsis=void 0},expandListColumnsFilter:function(t){var e=this.projectType;return"antdv"===e&&"String"===t.fieldPackagingType}},mixins:[i["a"],r["a"]],components:{columnListSelector:o["a"],ColumnListSelectorPlus:s["a"]},mounted:function(){this.$nextTick(function(){var t=this;u["a"].get("/diboot/devtools/db/edttbls").then(function(e){if(0===e.code&&(t.listTables=e.data,t.listTables.length>0)){var n=t.listTables[0].tableName;try{t.moduleConfig.metadata.tableName?n=t.moduleConfig.metadata.tableName:t.moduleConfig.metadata.tableName=n}catch(a){console.log("通用列表获取当前表名出错",n)}t.listTableNameChanged(n,!0)}})})}},f=d,p=(n("13a3"),n("2877")),h=Object(p["a"])(f,a,l,!1,null,"404e8f88",null);e["default"]=h.exports},"47fc":function(t,e,n){"use strict";var a=n("32fb"),l=n.n(a);l.a},"6cc4":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h3",{staticClass:"title separator"},[t._v("\n    "+t._s(t.title)+"\n    "),n("a-button",{staticStyle:{color:"#777"},attrs:{type:"link",ghost:"",size:"small",title:"更改所有的显示标签",icon:"edit"},on:{click:t.showAllEdit}})],1),[t.resultColumns?n("draggable",{attrs:{element:"div",handle:".drag-handle",options:{group:{name:"columns",pull:"false",put:!1},sort:!0,forceFallback:!0}},model:{value:t.resultColumns,callback:function(e){t.resultColumns=e},expression:"resultColumns"}},t._l(t.resultColumns,function(e,a){return n("a-row",{key:a,staticClass:"config-form-item"},[n("a-col",{attrs:{span:2}},[n("span",{staticClass:"col-icon-span drag-handle",attrs:{title:"拖拽可排序"}},[n("a-icon",{staticStyle:{fontSize:"20px"},attrs:{type:"bars"}})],1)]),n("a-col",{attrs:{span:e.showInput?18:16}},[e.showInput?n("a-input",{attrs:{id:t.voType+"FieldNameEditInput_"+e.fieldName,size:"small"},on:{keyup:[function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:t.saveEdit(e)},function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"esc",27,n.key,["Esc","Escape"])?null:t.cancelEdit(e)}]},model:{value:e.editFieldLabel,callback:function(n){t.$set(e,"editFieldLabel",n)},expression:"col.editFieldLabel"}},[n("template",{slot:"addonAfter"},[n("a-icon",{staticStyle:{cursor:"pointer"},attrs:{type:"close",title:"关闭"},on:{click:function(n){return t.cancelEdit(e)}}}),n("a-divider",{attrs:{type:"vertical"}}),n("a-icon",{staticStyle:{color:"#2198f7",cursor:"pointer"},attrs:{type:"check",title:"保存"},on:{click:function(n){return t.saveEdit(e)}}})],1)],2):n("p",{staticClass:"icon-small-line"},[n("span",{staticStyle:{"padding-right":"2px"}},[t._v("\n              "+t._s(e.fieldLabel)+"\n            ")]),"BindEntity"===e.refCodeType?n("a-tag",{attrs:{color:"cyan"}},[t._v("\n              对象.字段\n            ")]):t._e(),"BindFieldList"===e.refCodeType?n("a-tag",{attrs:{color:"blue"}},[t._v("\n              对象字段列表\n            ")]):t._e()],1)],1),n("a-col",{attrs:{span:e.showInput?4:6}},[e.showInput?t._e():n("a-button",{staticStyle:{color:"#777"},attrs:{type:"link",size:"small",title:"更改该项显示标签",icon:"edit"},on:{click:function(n){return t.showEdit(e)}}}),n("a-button",{staticStyle:{color:"#f36e70"},attrs:{type:"link",size:"small",title:"删除该项",icon:"delete"},on:{click:function(e){return t.removeColumn(a)}}})],1)],1)}),1):t._e(),n("a-row",[n("a-col",{attrs:{span:"22"}},[t.selectColumns.length>0?n("a-select",{staticStyle:{width:"100%"},attrs:{"show-search":"","filter-option":t.filterOption,placeholder:"请选择搜索字段"},on:{change:function(e){return t.addColumn(e)}},model:{value:t.addFieldName,callback:function(e){t.addFieldName=e},expression:"addFieldName"}},t._l(t.selectColumns,function(e,a){return n("a-select-option",{key:a,attrs:{value:e.fieldName}},[t._v("\n            "+t._s(e.fieldLabel)+"["+t._s(e.fieldName)+"]\n          ")])}),1):t._e()],1)],1)]],2)},l=[],i=(n("6762"),n("2fdb"),n("ac6a"),n("75fc")),o=(n("7514"),n("2ef0")),s=n.n(o),r=n("3aa3"),u=n("b76a"),c=n.n(u),m={name:"ColumnListSelector",data:function(){return{resultColumns:[],validColumns:[],addFieldName:void 0,showAllEditFlag:!1}},methods:{initPrimaryKey:function(){if(!this.primaryKeyEvent||!this.columns||0===this.columns.length)return!1;var t=this.columns.find(function(t){return!0===t.primaryKey}),e=void 0===t?"id":t.fieldName;this.$emit("primaryKeyChange",e)},initValidColumns:function(){var t=this;if(this.columns&&this.columns.length>0){var e=this.columns;if(void 0!==this.validColumnsFilter&&(e=this.columns.filter(this.validColumnsFilter)),this.validColumns=s.a.cloneDeep(e),this.appendEditConfig(this.validColumns),this.voType){var n=this.columns[0]["tableName"];r["a"].get("/diboot/devtools/pcds/vorl/".concat(n,"/").concat(this.voType)).then(function(e){if(0===e.code&&e.data){var n,a=e.data.filter(function(t){return"BindEntity"!==t.refCodeType&&"BindEntityList"!==t.refCodeType});if(t.appendEditConfig(a),(n=t.validColumns).push.apply(n,Object(i["a"])(a)),t.value.length>0?t.resultColumns=s.a.cloneDeep(t.value):t.resultColumns=s.a.cloneDeep(t.validColumns),t.needRefEntity){var l,o=e.data.filter(function(t){return"BindEntity"===t.refCodeType&&void 0!==t.columns&&t.columns.length>0}),r=[];o.forEach(function(t){var e=t.columns.filter(function(t){return"id"!==t.fieldName&&"isDeleted"!==t.fieldName&&"extdata"!==t.fieldName&&!t.columnExt.refType}),n=e.map(function(e){return e.fieldName="".concat(t.fieldName,".").concat(e.fieldName),e.fieldLabel="".concat(t.fieldLabel).concat(e.fieldLabel),e.refCodeType=t.refCodeType,e.entityFieldName=t.fieldName,e});r.push.apply(r,Object(i["a"])(n))}),t.appendEditConfig(r),(l=t.validColumns).push.apply(l,r)}}else t.value.length>0?t.resultColumns=s.a.cloneDeep(t.value):t.resultColumns=s.a.cloneDeep(t.validColumns)}).catch(function(){t.value.length>0?t.resultColumns=s.a.cloneDeep(t.value):t.resultColumns=s.a.cloneDeep(t.validColumns)})}else this.value.length>0?this.resultColumns=s.a.cloneDeep(this.value):this.resultColumns=s.a.cloneDeep(this.validColumns)}},addColumn:function(t){var e=this.validColumns.find(function(e){return e.fieldName===t});if(void 0===e)return!1;this.addFieldName=void 0,this.resultColumns.push(e),this.$emit("change",this.resultColumns)},removeColumn:function(t){var e=this.resultColumns.splice(t,1);if(e.length>0){var n=e[0],a=this.validColumns.find(function(t){return t.colName===n.colName});if(void 0!==a){var l=this.validColumns.indexOf(a);-1!==l&&(this.validColumns[l]=n)}}this.$emit("change",this.resultColumns)},appendEditConfig:function(t){t.forEach(function(t){t.showInput=!1,t.editFieldLabel=t.fieldLabel})},showAllEdit:function(){var t=this;this.showAllEditFlag=!this.showAllEditFlag,this.resultColumns&&this.resultColumns.map(function(e){t.showAllEditFlag?e.showInput=!0:t.cancelEdit(e)})},showEdit:function(t){var e=this;t.showInput=!0,setTimeout(function(){document.getElementById("".concat(e.voType,"FieldNameEditInput_").concat(t.fieldName)).focus()},200)},cancelEdit:function(t){t.editFieldLabel=t.fieldLabel,t.showInput=!1,this.focusNextColumn(t)},saveEdit:function(t){if(!t.editFieldLabel)return this.$message.error("字段标签名称不可为空"),!1;t.fieldLabel=t.editFieldLabel,t.showInput=!1,this.$emit("change",this.resultColumns),this.focusNextColumn(t)},focusNextColumn:function(t){var e=this.resultColumns.indexOf(t)+1;if(e>0&&e<this.resultColumns.length){var n=this.resultColumns[e];n.showInput?document.getElementById("".concat(this.voType,"FieldNameEditInput_").concat(n.fieldName)).focus():this.focusNextColumn(n)}},filterOption:function(t,e){return e.componentOptions.children[0].text.toLowerCase().indexOf(t.toLowerCase())>=0}},computed:{columns:function(){return this.initColumns?this.initColumns:this.$store.state.database.columns},selectColumns:function(){if(void 0===this.resultColumns)return[];var t=this.resultColumns.map(function(t){return t.fieldName});return this.validColumns.filter(function(e){return!t.includes(e.fieldName)})}},watch:{columns:function(){this.validColumns=[],this.resultColumns=[],this.initValidColumns(),this.initPrimaryKey()},resultColumns:function(t){this.$emit("change",t)}},components:{draggable:c.a},props:{title:{type:String,default:"数据项配置"},voType:{type:String,default:""},value:{type:Array,default:function(){return[]}},validColumnsFilter:{type:Function,default:void 0},needRefEntity:{type:Boolean,default:!0},initColumns:{type:Array,default:void 0},primaryKeyEvent:{type:Boolean,default:!1}},created:function(){this.validColumns=[],this.resultColumns=[],this.initValidColumns(),this.initPrimaryKey()}},d=m,f=(n("9a9a"),n("2877")),p=Object(f["a"])(d,a,l,!1,null,"574a18b6",null);e["a"]=p.exports},"78bd":function(t,e,n){},8656:function(t,e,n){"use strict";var a=n("75fc"),l=(n("ac6a"),n("cebc")),i=(n("6762"),n("2fdb"),n("2f62"));e["a"]={methods:{hasPermission:function(t){return 0===this.actionList.length||this.actionList.includes(t)}},computed:Object(l["a"])({},Object(i["f"])({mainLevel:function(t){return t.user.mainLevel}}),{actionList:function(){if(!this.mainLevel||!this.mainLevel.permissions||0===this.mainLevel.permissions.length)return[];var t=[];return this.mainLevel.permissions.forEach(function(e){e.actionList&&e.actionList.length>0&&t.push.apply(t,Object(a["a"])(e.actionList))}),t}})}},"9a9a":function(t,e,n){"use strict";var a=n("0dc0"),l=n.n(a);l.a},a86d:function(t,e,n){},a979:function(t,e,n){"use strict";var a=n("cebc"),l=n("2ef0"),i=n.n(l),o=n("2f62"),s=n("1ca6"),r=n("80da"),u=Object(o["a"])("DragMobileConfig"),c=u.mapMutations;e["a"]={data:function(){return{workspace:"DragMobileConfig"}},methods:Object(a["a"])({},c(["updateModuleConfigList","updateConfigMap"])),computed:{moduleConfig:{get:function(){var t=this.$store.state.DragMobileConfig[this.code].moduleConfigMap;return t[this.uuid]},set:function(t){var e=this.$store.state.DragMobileConfig[this.code].moduleConfigMap;e[this.uuid];i.a.cloneDeep(t),this.updateConfigMap({key:this.code,configMap:e})}}},components:{eventKit:s["a"]},mixins:[r["a"]],props:{uuid:{type:String,required:!0},code:{type:String,required:!0},projectType:{type:String,required:!0}}}},b023:function(t,e,n){"use strict";n.d(e,"b",function(){return h}),n.d(e,"a",function(){return C});var a="entity_without_sys",l="entity_tree",i="entity_has_ref",o="entity_has_ref_tree",s="entity_has_ref_dict",r="entity_has_ref_table",u="field_without_sys",c="field_entity_tree",m="field_entity_has_ref",d="field_entity_has_ref_tree",f="field_entity_has_ref_dict",p="field_entity_has_ref_table",h={entity_without_sys:a,entity_tree:l,entity_has_ref:i,entity_has_ref_tree:o,entity_has_ref_dict:s,entity_has_ref_table:r,field_without_sys:u,field_entity_tree:c,field_entity_has_ref:m,field_entity_has_ref_tree:d,field_entity_has_ref_dict:f,field_entity_has_ref_table:p},C={primaryKey:"primaryKey",createTime:"createTime",showField:"showField",filter:"filter"}},d1f5:function(t,e,n){"use strict";var a=n("a86d"),l=n.n(a);l.a},dc04:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-form",{attrs:{layout:"horizontal"}},[n("h3",{staticClass:"title separator"},[t._v("基础配置")]),n("a-form-model",{attrs:{layout:"horizontal"}},[n("a-form-model-item",{attrs:{label:"布局列数",labelCol:{span:8},wrapperCol:{span:12}}},[n("a-radio-group",{attrs:{"button-style":"solid"},model:{value:t.moduleConfig.metadata.colNumber,callback:function(e){t.$set(t.moduleConfig.metadata,"colNumber",e)},expression:"moduleConfig.metadata.colNumber"}},t._l([1,2,3,4],function(e){return n("a-radio-button",{key:e,attrs:{value:e}},[t._v("\n          "+t._s(e)+"\n        ")])}),1)],1)],1),n("column-list-selector-plus",{ref:"columnListSelector",attrs:{"need-ref-entity":!0,"valid-columns-filter":t.validColumnsFilter,title:"详情项配置","vo-type":"DetailVO","is-expand":!0,"col-extra-properties-setter":t.setColExtraProperties,"expand-columns-filter":t.expandColumnsFilter,"auto-setter-col-filter":t.autoSetterColFilter},on:{change:function(e){t.moduleConfig.metadata.columns=t._.cloneDeep(e)}},scopedSlots:t._u([{key:"item-extra-content",fn:function(e){var a=e.col;return[n("a-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{labelCol:{span:6},wrapperCol:{span:17},label:"事件"}},[n("a-radio-group",{model:{value:a.actionType,callback:function(e){t.$set(a,"actionType",e)},expression:"col.actionType"}},[n("a-radio",{attrs:{value:""}},[t._v("\n            无\n          ")]),n("a-radio",{attrs:{value:"qrCode"}},[t._v("\n            展示为二维码\n          ")])],1)],1),"qrCode"===a.actionType?n("a-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{labelCol:{span:6},wrapperCol:{span:17},label:"尺寸"}},[n("a-input-number",{attrs:{size:"small",min:30,max:500,"default-value":120,step:10},model:{value:a.qrCodeSize,callback:function(e){t.$set(a,"qrCodeSize",e)},expression:"col.qrCodeSize"}})],1):t._e()]}}])}),t.moduleConfig.scriptConfig?[n("h3",{staticClass:"title separator"},[t._v("组件事件处理")]),n("event-kit",{attrs:{code:t.code,"script-config":t.moduleConfig.scriptConfig}})]:t._e()],2)},l=[],i=n("e5b5"),o=n("4047"),s={name:"DetailPanelConfig",data:function(){return{initColumns:void 0}},methods:{setColExtraProperties:function(t){t.actionType="",t.qrCodeSize=120},expandColumnsFilter:function(t){return!t.columnExt||"Boolean"!==t.fieldPackagingType&&"S_IMG_UPLOAD"!==t.columnExt.formType&&"M_IMG_UPLOAD"!==t.columnExt.formType&&"S_FILE_UPLOAD"!==t.columnExt.formType&&"M_FILE_UPLOAD"!==t.columnExt.formType&&"RICH_EDITOR"!==t.columnExt.formType},validColumnsFilter:function(t){return"isDeleted"!==t.fieldName&&"extdata"!==t.fieldName&&!t.columnExt.refType},autoSetterColFilter:function(t){return!0!==t.primaryKey&&"tenantId"!==t.fieldName}},mixins:[i["a"]],components:{columnListSelectorPlus:o["a"]},created:function(){console.log("detail panel created");var t=this.moduleConfig.metadata.columns;this.initColumns=t.length>0?t:void 0},mounted:function(){var t=this;this.$nextTick(function(){t.initColumns&&t.$refs.columnListSelector.setResultColumns(t.initColumns)})}},r=s,u=(n("47fc"),n("2877")),c=Object(u["a"])(r,a,l,!1,null,"ef9aecbe",null);e["default"]=c.exports},dc8e:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-form",{attrs:{layout:"horizontal"}},[n("a-tag",{staticStyle:{"max-width":"300px","white-space":"initial"},attrs:{color:"orange"}},[t._v("\n      ⚠：️当前组件设计器中，展示为PC组件效果，实际生成为移动端组件！\n    ")]),n("column-list-selector-plus",{ref:"columnListSelector",attrs:{"primary-key-event":!0,"need-ref-entity":!1,"valid-columns-filter":t.validColumnsFilter,title:"表单项配置","is-expand":!0,"col-extra-properties-setter":t.setColExtraProperties,"auto-setter-col-filter":t.autoSetterColFilter,"expand-columns-filter":t.expandColumnsFilter},on:{change:function(e){t.moduleConfig.metadata.columns=t._.cloneDeep(e)},primaryKeyChange:function(e){t.moduleConfig.metadata.primaryKey=e}},scopedSlots:t._u([{key:"item-extra-content",fn:function(e){var a=e.col;return[a.columnExt&&"S_SELECT"===a.columnExt.formType?n("a-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{labelCol:{span:7},wrapperCol:{span:16},label:"单选模式"}},[n("a-radio-group",{attrs:{"button-style":"solid",size:"small"},model:{value:a.columnExt.actualFormType,callback:function(e){t.$set(a.columnExt,"actualFormType",e)},expression:"col.columnExt.actualFormType"}},[n("a-tooltip",{attrs:{title:"select选择",placement:"top"}},[n("a-radio-button",{attrs:{value:"S_SELECT"}},[t._v("\n                Select\n              ")])],1),n("a-tooltip",{attrs:{title:"Radio选择",placement:"top"}},[n("a-radio-button",{attrs:{value:"RADIO"}},[t._v("\n                Radio\n              ")])],1)],1)],1):t._e()]}}])})],1)},l=[],i=n("cebc"),o=n("a979"),s=n("4047"),r=n("2f62"),u=n("6892"),c=Object(r["a"])("database"),m=c.mapState,d={name:"FormPanelConfig",data:function(){return{panelList:void 0,initColumns:void 0}},methods:{setColExtraProperties:function(t){t.actionType="",t.btnWindowData=void 0,t.disableUpdate=!1,t&&t.columnExt&&("S_SELECT"!==t.columnExt.formType&&"M_SELECT"!==t.columnExt.formType||(t.columnExt.searchType="SINGLE"),"S_SELECT"===t.columnExt.formType&&(t.columnExt.actualFormType="S_SELECT"))},expandColumnsFilter:function(t){return t.columnExt&&"S_SELECT"===t.columnExt.formType},validColumnsFilter:function(t){return"id"!==t.fieldName&&"uuid"!==t.fieldName&&"isDeleted"!==t.fieldName&&"extdata"!==t.fieldName&&"createTime"!==t.fieldName&&"updateTime"!==t.fieldName&&"createBy"!==t.fieldName&&"updateBy"!==t.fieldName&&"NONE"!==t.columnExt.formType&&"S_TREE_SELECT"!==t.columnExt.formType&&"RICH_EDITOR"!==t.columnExt.formType},autoSetterColFilter:function(t){return"tenantId"!==t.fieldName},colNumberChange:function(t){u["a"].$emit("formPageColNumberChange",t)}},computed:Object(i["a"])({},m({columns:function(t){return t.columns}})),watch:{columns:{handler:function(t){t&&t.length>0&&(this.moduleConfig.metadata.enableTree=t.some(function(t){return t.columnExt&&t.columnExt.tableName&&t.columnExt.tableName===t.columnExt.refTable}))},immediate:!0,deep:!0}},mixins:[o["a"]],components:{columnListSelectorPlus:s["a"]},created:function(){var t=this.moduleConfig.metadata.columns;this.initColumns=t.length>0?t:void 0},mounted:function(){var t=this;this.$nextTick(function(){t.initColumns&&t.$refs.columnListSelector.setResultColumns(t.initColumns),u["a"].$on("requestFormPanelUuid",function(){u["a"].$emit("formPanelUuid",t.uuid)})})}},f=d,p=(n("d1f5"),n("2877")),h=Object(p["a"])(f,a,l,!1,null,"2f1b64bc",null);e["default"]=h.exports}}]);