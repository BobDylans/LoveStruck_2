(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["designerModuleConfig2"],{"085b":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"props-kit"},[a("a-collapse",{attrs:{"default-active-key":"0",bordered:!1},model:{value:e.panelActiveKey,callback:function(t){e.panelActiveKey=t},expression:"panelActiveKey"}},[e._l(e.scriptConfig.props,function(t,n){return[a("a-collapse-panel",{key:"props_panel_"+n,staticStyle:{"padding-left":"0"},attrs:{header:t.key}},[a("a-row",[a("a-col",{attrs:{span:18,offset:2}},[a("a-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"是否启用该参数",labelCol:{span:16}}},[a("a-switch",{attrs:{"checked-children":"是","un-checked-children":"否"},model:{value:t.open,callback:function(a){e.$set(t,"open",a)},expression:"prop.open"}})],1)],1)],1),t.open?a("a-row",[a("a-col",{attrs:{span:18,offset:2}},[a("a-form-item",{staticClass:"form-line",staticStyle:{"margin-bottom":"0"}},[a("a-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择绑定参数",showSearch:"",filterOption:function(a,n){return e.filterOptionAndSetValue(t,a,n)},size:"small"},model:{value:t.targetData,callback:function(a){e.$set(t,"targetData",a)},expression:"prop.targetData"}},[a("a-select-option",{attrs:{value:""}},[e._v("\n                  请选择绑定参数\n                ")]),e._l(e.scriptDataList,function(t,n){return a("a-select-option",{key:n,attrs:{value:t.key}},[e._v("\n                  "+e._s(t.key)+" ["+e._s(t.name)+"]\n                ")])})],2)],1)],1)],1):e._e(),t.open?a("a-row",[a("a-col",{attrs:{span:18,offset:2}},[a("a-form-item",{staticClass:"form-line",staticStyle:{"margin-bottom":"0"}},[a("a-input",{attrs:{size:"small",placeholder:"或输入绑定参数"},model:{value:t.targetData,callback:function(a){e.$set(t,"targetData",a)},expression:"prop.targetData"}})],1)],1)],1):e._e(),t.open?a("a-row",[a("a-col",{attrs:{span:18,offset:2}},[a("a-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"参数有值时显示",labelCol:{span:16}}},[a("a-switch",{attrs:{"checked-children":"是","un-checked-children":"否"},model:{value:t.onlyDataShow,callback:function(a){e.$set(t,"onlyDataShow",a)},expression:"prop.onlyDataShow"}})],1)],1)],1):e._e(),t.open?a("a-row",[a("a-col",{attrs:{span:18,offset:2}},[a("a-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"转String格式",labelCol:{span:16}}},[a("a-switch",{attrs:{"checked-children":"是","un-checked-children":"否"},model:{value:t.convertToString,callback:function(a){e.$set(t,"convertToString",a)},expression:"prop.convertToString"}})],1)],1)],1):e._e()],1)]})],2)],1)},o=[],i=a("0561"),l={name:"PropsKit",data:function(){return{panelActiveKey:"props_panel_0"}},methods:{filterOptionAndSetValue:function(e,t,a){var n=a.componentOptions.children[0].text.toLowerCase();if(n.indexOf(t.toLowerCase())>=0)return!0;var o=a.componentOptions.propsData.value.toLowerCase();return o.indexOf(t.toLowerCase())>=0||(e.targetData=t,!1)}},mixins:[i["a"]],props:{code:{type:String,default:""},scriptConfig:{type:Object,default:function(){return{}}},workspace:{type:String,default:"panelDesigner"}}},r=l,s=(a("0c19"),a("2877")),c=Object(s["a"])(r,n,o,!1,null,"2e30a0bc",null);t["a"]=c.exports},"0c19":function(e,t,a){"use strict";var n=a("b5d1"),o=a.n(n);o.a},"45c4":function(e,t,a){"use strict";var n=a("e075"),o=a.n(n);o.a},"4dc5":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h3",{staticClass:"title"},[e._v("\n    自动排列\n    "),a("a-switch",{attrs:{size:"small",checkedChildren:"开",unCheckedChildren:"关"},model:{value:e.autoSpan,callback:function(t){e.autoSpan=t},expression:"autoSpan"}})],1),a("p",{staticClass:"line",staticStyle:{margin:"10px 0"}}),a("h3",{staticClass:"title"},[e._v("列配置")]),e._l(e.moduleConfig.metadata.colList,function(t,n){return a("a-row",{key:n,staticClass:"config-form-item"},[a("a-col",{attrs:{span:"20"}},[a("p",{staticClass:"icon-small-line"},[a("span",{staticClass:"col-icon-span"},[a("a-icon",{staticStyle:{fontSize:"20px"},attrs:{type:"bars"}})],1),a("span",{staticStyle:{"padding-right":"2px"}},[a("a-input-number",{attrs:{min:1,max:20,size:"small"},model:{value:t.span,callback:function(a){e.$set(t,"span",a)},expression:"col.span"}})],1),a("a-button",{attrs:{type:"danger",shape:"circle",size:"small",icon:"minus"},on:{click:function(t){return e.removeColumn(n)}}})],1)])],1)}),a("a-row",[a("a-col",{attrs:{span:"3"}}),a("a-col",{attrs:{span:"10"}},[a("p",[a("a",{staticClass:"addColumn",attrs:{href:"javascript:;"},on:{click:e.addColumn}},[e._v("\n          添加列\n        ")])])])],1),a("p",{staticClass:"line"})],2)},o=[],i=(a("ac6a"),a("b57a")),l={name:"LayoutcConfigComponent",data:function(){return{autoSpan:!0}},methods:{addColumn:function(){var e={span:12,moduleList:[]};this.moduleConfig.metadata.colList.push(e),this.autoSetSpan()},removeColumn:function(e){this.moduleConfig.metadata.colList.splice(e,1),this.autoSetSpan()},autoSetSpan:function(){if(this.autoSpan){var e=Math.floor(24/this.moduleConfig.metadata.colList.length);this.moduleConfig.metadata.colList.forEach(function(t){t.span=e})}}},mixins:[i["a"]]},r=l,s=(a("dc58"),a("2877")),c=Object(s["a"])(r,n,o,!1,null,"d60b9f52",null);t["a"]=c.exports},7219:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("layoutc-config",{attrs:{code:e.code,"project-type":e.projectType},model:{value:e.moduleConfig,callback:function(t){e.moduleConfig=t},expression:"moduleConfig"}})],1)},o=[],i=a("7f57"),l=a("4dc5"),r={name:"Layoutc",components:{layoutcConfig:l["a"]},mixins:[i["a"]]},s=r,c=a("2877"),u=Object(c["a"])(s,n,o,!1,null,"26f6d2a0",null);t["default"]=u.exports},"8d35":function(e,t,a){},"9b68":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-form",{attrs:{layout:"horizontal"}},[a("column-list-selector-plus",{ref:"columnListSelector",attrs:{"is-expand":!1,"need-ref-entity":!1,"valid-columns-filter":e.validColumnsFilter,"auto-setter-col-filter":e.autoSetterColFilter,title:"导出项配置","vo-type":"ListVO"},on:{change:function(t){e.moduleConfig.metadata.columns=e._.cloneDeep(t)}}})],1)},o=[],i=a("e5b5"),l=a("4047"),r={name:"ExcelExportConfig",data:function(){return{initColumns:void 0}},methods:{validColumnsFilter:function(e){return"isDeleted"!==e.fieldName&&"extdata"!==e.fieldName&&"S_FILE_UPLOAD"!==e.columnExt.formType&&"M_FILE_UPLOAD"!==e.columnExt.formType&&"S_IMG_UPLOAD"!==e.columnExt.formType&&"M_IMG_UPLOAD"!==e.columnExt.formType&&"RICH_EDITOR"!==e.columnExt.formType&&!e.columnExt.refType},autoSetterColFilter:function(e){return!0!==e.primaryKey&&"tenantId"!==e.fieldName}},mixins:[i["a"]],components:{columnListSelectorPlus:l["a"]},created:function(){var e=this.moduleConfig.metadata.columns;this.initColumns=e.length>0?e:void 0},mounted:function(){var e=this;this.$nextTick(function(){e.initColumns&&e.$refs.columnListSelector.setResultColumns(e.initColumns)})}},s=r,c=(a("d7b7"),a("2877")),u=Object(c["a"])(s,n,o,!1,null,"50b637ee",null);t["default"]=u.exports},a0ab:function(e,t,a){},a979:function(e,t,a){"use strict";var n=a("cebc"),o=a("2ef0"),i=a.n(o),l=a("2f62"),r=a("1ca6"),s=a("80da"),c=Object(l["a"])("DragMobileConfig"),u=c.mapMutations;t["a"]={data:function(){return{workspace:"DragMobileConfig"}},methods:Object(n["a"])({},u(["updateModuleConfigList","updateConfigMap"])),computed:{moduleConfig:{get:function(){var e=this.$store.state.DragMobileConfig[this.code].moduleConfigMap;return e[this.uuid]},set:function(e){var t=this.$store.state.DragMobileConfig[this.code].moduleConfigMap;t[this.uuid];i.a.cloneDeep(e),this.updateConfigMap({key:this.code,configMap:t})}}},components:{eventKit:r["a"]},mixins:[s["a"]],props:{uuid:{type:String,required:!0},code:{type:String,required:!0},projectType:{type:String,required:!0}}}},b57a:function(e,t,a){"use strict";var n=a("085b"),o=a("1ca6");t["a"]={data:function(){return{moduleConfig:{}}},methods:{filterOption:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0}},watch:{moduleConfig:{handler:function(e){this.$emit("input",e)},deep:!0,immediate:!0},value:{handler:function(e){this.moduleConfig=e},deep:!0,immediate:!0}},components:{propsKit:n["a"],eventKit:o["a"]},props:{workspace:{type:String,default:"panelDesigner"},code:{type:String,default:""},projectType:{type:String,required:!0},value:{type:Object,default:function(){return{}}}}}},b5d1:function(e,t,a){},d7b7:function(e,t,a){"use strict";var n=a("8d35"),o=a.n(n);o.a},dc58:function(e,t,a){"use strict";var n=a("a0ab"),o=a.n(n);o.a},e075:function(e,t,a){},fb01:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-form",{attrs:{layout:"horizontal"}},[a("a-tag",{staticStyle:{"max-width":"300px","white-space":"initial"},attrs:{color:"orange"}},[e._v('\n    ⚠：️当前组件设计器中，点击可见操作按钮；实际生成代码为向左滑动进行"编辑"、"删除"，点击进行"查看"！\n  ')]),a("h3",{staticClass:"title separator"},[e._v("列表头设置")]),a("a-row",[a("a-col",{attrs:{span:6}},[e._v("\n      启用表头\n    ")]),a("a-col",{attrs:{span:18}},[a("a-switch",{attrs:{"checked-children":"开","un-checked-children":"关"},on:{change:e.handleCloseHeaderConfig},model:{value:e.moduleConfig.metadata.header.setting,callback:function(t){e.$set(e.moduleConfig.metadata.header,"setting",t)},expression:"moduleConfig.metadata.header.setting"}})],1)],1),e.moduleConfig.metadata.header.setting?a("a-row",{staticStyle:{"margin-top":"10px"}},[a("a-col",{attrs:{offset:"2",span:4}},[e._v("\n      左侧\n    ")]),a("a-col",{attrs:{span:18}},[a("a-row",[a("a-col",{attrs:{span:8}},[e._v("\n          显示字段\n        ")]),a("a-col",{attrs:{span:16}},[a("a-select",{staticStyle:{width:"100%"},attrs:{allowClear:""},model:{value:e.moduleConfig.metadata.header.left.fieldName,callback:function(t){e.$set(e.moduleConfig.metadata.header.left,"fieldName",t)},expression:"moduleConfig.metadata.header.left.fieldName"}},e._l(e.freezeColumns,function(t,n){return a("a-select-option",{key:"general-list-header-left_"+n,attrs:{value:t.fieldName}},[e._v("\n              "+e._s(t.fieldLabel)+"\n            ")])}),1)],1)],1),a("a-row",{staticStyle:{"margin-top":"10px"}},[a("a-col",{attrs:{span:8}},[e._v("\n          显示为标签\n        ")]),a("a-col",{attrs:{span:16}},[a("a-switch",{attrs:{"checked-children":"是","un-checked-children":"否"},model:{value:e.moduleConfig.metadata.header.left.isTag,callback:function(t){e.$set(e.moduleConfig.metadata.header.left,"isTag",t)},expression:"moduleConfig.metadata.header.left.isTag"}})],1)],1)],1),a("a-col",{staticStyle:{"margin-top":"10px"},attrs:{offset:"2",span:4}},[e._v("\n      右侧\n    ")]),a("a-col",{staticStyle:{"margin-top":"10px"},attrs:{span:18}},[a("a-row",[a("a-col",{attrs:{span:8}},[e._v("\n          显示字段\n        ")]),a("a-col",{attrs:{span:16}},[a("a-select",{staticStyle:{width:"100%"},attrs:{allowClear:""},model:{value:e.moduleConfig.metadata.header.right.fieldName,callback:function(t){e.$set(e.moduleConfig.metadata.header.right,"fieldName",t)},expression:"moduleConfig.metadata.header.right.fieldName"}},e._l(e.freezeColumns,function(t,n){return a("a-select-option",{key:"general-list-header-right_"+n,attrs:{value:t.fieldName}},[e._v("\n              "+e._s(t.fieldLabel)+"\n            ")])}),1)],1)],1),a("a-row",{staticStyle:{"margin-top":"10px"}},[a("a-col",{attrs:{span:8}},[e._v("\n          显示为标签\n        ")]),a("a-col",{attrs:{span:16}},[a("a-switch",{attrs:{"checked-children":"是","un-checked-children":"否"},model:{value:e.moduleConfig.metadata.header.right.isTag,callback:function(t){e.$set(e.moduleConfig.metadata.header.right,"isTag",t)},expression:"moduleConfig.metadata.header.right.isTag"}})],1)],1)],1)],1):e._e(),a("column-list-selector-plus",{ref:"columnListSelector",attrs:{"primary-key-event":!0,"need-ref-entity":!1,"is-expand":!0,"valid-columns-filter":e.validColumnsFilter,"auto-setter-col-filter":e.autoSetterColFilter,"col-extra-properties-setter":e.setColExtraProperties,"expand-columns-filter":e.expandColumnsFilter,title:"列表项配置","vo-type":"ListVO"},on:{freezeColumns:function(t){e.freezeColumns=e._.cloneDeep(t)},change:function(t){e.moduleConfig.metadata.columns=e._.cloneDeep(t)},primaryKeyChange:function(t){e.moduleConfig.metadata.primaryKey=t}},scopedSlots:e._u([{key:"item-extra-content",fn:function(t){var n=t.col;return[n.fieldPackagingType&&"String"===n.fieldPackagingType?a("a-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{labelCol:{span:6},wrapperCol:{span:17},label:"缩略显示"}},[a("a-checkbox",{model:{value:n.ellipsis,callback:function(t){e.$set(n,"ellipsis",t)},expression:"col.ellipsis"}},[e._v("\n          内容超长缩略显示\n        ")])],1):e._e()]}}])})],1)},o=[],i=a("cebc"),l=a("7618"),r=(a("7514"),a("a979")),s=a("4047"),c=a("2f62"),u=Object(c["a"])("database"),d=u.mapState,m={name:"ListPanelCofig",data:function(){return{initColumns:void 0,freezeColumns:[],defaultHeader:{setting:!1,left:{isTag:!1,column:null,fieldName:""},right:{isTag:!1,column:null,fieldName:""}}}},methods:{handleCloseHeaderConfig:function(e){e||this.$set(this.moduleConfig.metadata,"header",this.defaultHeader)},setColExtraProperties:function(e){"String"===e.fieldPackagingType&&e.colLength&&e.colLength>255?e.ellipsis=!0:"String"===e.fieldPackagingType?e.ellipsis=!1:e.ellipsis=void 0,"isDeleted"!==e.fieldName&&"extdata"!==e.fieldName&&"createTime"!==e.fieldName&&"updateTime"!==e.fieldName&&"createBy"!==e.fieldName&&"updateBy"!==e.fieldName&&"id"!==e.fieldName&&"uuid"!==e.fieldName&&"tenantId"!==e.fieldName&&e.columnExt&&(e.editTableCell=!0)},onRowSelectionChanged:function(e){if("NONE"===e)this.moduleConfig.scriptConfig.data&&this.moduleConfig.scriptConfig.data.length>0&&(this.moduleConfig.scriptConfig.data=this.moduleConfig.scriptConfig.data.filter(function(e){return"selectedRowKeys"!==e.key}));else{var t=this.moduleConfig.scriptConfig.data.find(function(e){return"selectedRowKeys"===e.key});void 0===t&&this.moduleConfig.scriptConfig.data.push({key:"selectedRowKeys",name:"选中ID列表",type:"Array"})}},validColumnsFilter:function(e){return"CHECKBOX"!==e.columnExt.formType&&"isDeleted"!==e.fieldName&&"extdata"!==e.fieldName&&"S_FILE_UPLOAD"!==e.columnExt.formType&&"M_FILE_UPLOAD"!==e.columnExt.formType&&"S_IMG_UPLOAD"!==e.columnExt.formType&&"M_IMG_UPLOAD"!==e.columnExt.formType&&"RICH_EDITOR"!==e.columnExt.formType&&!e.columnExt.refType},autoSetterColFilter:function(e){return!0!==e.primaryKey&&"tenantId"!==e.fieldName},expandColumnsFilter:function(e){return"String"===e.fieldPackagingType},getHeaderColumn:function(e){var t=null;if(e&&(t=this.freezeColumns.find(function(t){return t.fieldName===e})),t&&("Date"===t.fieldPackagingType||t.columnExt&&"DATETIMEPICKER"===t.columnExt.formType||t.columnExt&&"DATEPICKER"===t.columnExt.formType)&&t.example&&"object"===Object(l["a"])(t.example)){var a="DATETIMEPICKER"===t.columnExt.formType?"YYYY-MM-DD hh:mm":"YYYY-MM-DD";t.example=t.example.format(a)}return t}},computed:Object(i["a"])({},d({columns:function(e){return e.columns}})),watch:{"moduleConfig.metadata.header.left.fieldName":function(e){this.$set(this.moduleConfig.metadata.header.left,"column",this.getHeaderColumn(e))},"moduleConfig.metadata.header.right.fieldName":function(e){this.$set(this.moduleConfig.metadata.header.right,"column",this.getHeaderColumn(e))},columns:{handler:function(e){e&&e.length>0&&(this.moduleConfig.metadata.enableTree=e.some(function(e){return e.columnExt&&e.columnExt.tableName&&e.columnExt.tableName===e.columnExt.refTable}))},immediate:!0,deep:!0}},mixins:[r["a"]],components:{columnListSelectorPlus:s["a"]},created:function(){var e=this.moduleConfig.metadata.columns;this.initColumns=e.length>0?e:void 0},mounted:function(){var e=this;this.$nextTick(function(){e.initColumns&&e.$refs.columnListSelector.setResultColumns(e.initColumns)})}},f=m,p=(a("45c4"),a("2877")),g=Object(p["a"])(f,n,o,!1,null,"24cd578c",null);t["default"]=g.exports}}]);